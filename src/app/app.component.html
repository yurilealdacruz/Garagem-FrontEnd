<div class="container">
  <h1 class="title">Controle de Garagens 🚗</h1>

  <div class="garagens">
    <!-- Garagem Cimatec -->
     
    <div class="garagem garagem-cimatec">

        <div class="editar-wrapper">
        <button class="btn-editar" (click)="mostrarEditor = !mostrarEditor">Editar</button>
        </div>

      <h2>Cimatec Park</h2>
      <p>
        Veículos no local:
        <strong>{{ contagemCimatec }}</strong>
      </p>

      <div class="historico">
      <label for="dataCimatec">Selecionar data para histórico:</label>
      <input id="dataCimatec" type="date" [(ngModel)]="dataSelecionadaCimatec" />
      <button class="btn-historico" (click)="buscarHistorico('A', dataSelecionadaCimatec)">Ver Histórico</button>
    </div>
    </div>

    <!-- Garagem VIP -->
    <div class="garagem garagem-vip">

        
        <div class="editar-wrapper">
        <button class="btn-editar" (click)="mostrarEditor = !mostrarEditor">Editar</button>

        </div>



      <h2>VIP</h2>
      <p>
        Veículos no local:
        <strong>{{ contagemVIP }}</strong>
      </p>
          <div class="historico">
            <label for="dataVIP">Selecionar data para histórico:</label>
            <input id="dataVIP" type="date" [(ngModel)]="dataSelecionadaVIP" />
            <button class="btn-historico" (click)="buscarHistorico('B', dataSelecionadaVIP)">Ver Histórico</button>
          </div>
    </div>
  </div>
<!-- app.component.html -->
<div>

  <div class="historico-resultado" *ngIf="historico.length > 0">
  <h3>Histórico:</h3>
  <ul>
    <li *ngFor="let item of historico">
      {{ item.horario }} - {{ item.acao | titlecase }} - {{ item.garagem }}
    </li>
  </ul>
</div>



<!-- Modal de Edição -->
<div class="modal-backdrop" *ngIf="mostrarEditor">
  <div class="modal">
    <h2>Ajustar Quantidade de Carros</h2>

    <label for="garageSelect">Garagem:</label>
    <select id="garageSelect" [(ngModel)]="garageSelecionada">
      <option value="A">Garagem CIMATEC PARK</option>
      <option value="B">Garagem VIP</option>
    </select>

    <label for="quantidadeInput">Quantidade:</label>
    <input id="quantidadeInput" type="number" [(ngModel)]="quantidade" />

    <div class="modal-buttons">
      <button class="btn-salvar" (click)="ajustarQuantidade()">Salvar</button>
      <button class="btn-cancelar" (click)="mostrarEditor = false">Cancelar</button>
    </div>

    <p *ngIf="mensagem">{{ mensagem }}</p>
  </div>
</div>




</div>
