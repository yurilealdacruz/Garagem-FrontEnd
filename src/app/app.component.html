<div class="container">
  <h1 class="title">Controle de Garagens 🚗</h1>

  <div class="garagens">
    <!-- Garagem Cimatec -->
     
    <div class="garagem garagem-cimatec">

        <div class="editar-wrapper">
        <button class="btn-editar" (click)="abrirModalLogin()">Editar</button>
        </div>

      <h2>Cimatec Park</h2>
      <p>
        Veículos no local:
        <strong>{{ contagemCimatec }}</strong>
      </p>

      <div class="historico">
      <label for="dataCimatec">Selecionar data para histórico:</label>
      <input id="dataCimatec" type="date" [(ngModel)]="dataSelecionadaCimatec" />
      <button class="btn-historico" (click)="buscarHistorico('B', dataSelecionadaCimatec)">Ver Histórico</button>
    </div>
    </div>

    <!-- Garagem VIP -->
    <div class="garagem garagem-vip">

        
        <div class="editar-wrapper">
        <button class="btn-editar" (click)="abrirModalLogin()">Editar</button>

        </div>



      <h2>VIP</h2>
      <p>
        Veículos no local:
        <strong>{{ contagemVIP }}</strong>
      </p>
          <div class="historico">
            <label for="dataVIP">Selecionar data para histórico:</label>
            <input id="dataVIP" type="date" [(ngModel)]="dataSelecionadaVIP" />
            <button class="btn-historico" (click)="buscarHistorico('A', dataSelecionadaVIP)">Ver Histórico</button>
          </div>
    </div>
  </div>
<!-- app.component.html -->
<div>

  <div class="historico-resultado" *ngIf="historico.length > 0">
  <h3>Histórico:</h3>
  <ul>
    <li *ngFor="let item of historico">
      {{ item.horario }} - {{ item.acao | titlecase }} - {{ item.garagem }}
    </li>
  </ul>
</div>


<ng-template #loginModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Login</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
  </div>
  <div class="modal-body">
    <label>Usuário:</label>
    <input type="text" [(ngModel)]="usuario" class="form-control" />
    <label>Senha:</label>
    <input type="password" [(ngModel)]="senha" class="form-control" />
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary" (click)="validarLogin()">Entrar</button>
  </div>
</ng-template>

<!-- Modal Editar -->
<ng-template #editarModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Ajustar Quantidade de Carros</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
  </div>
  <div class="modal-body">
    <label>Garagem:</label>
    <select [(ngModel)]="garageSelecionada" class="form-control">
      <option value="A">Garagem CIMATEC PARK</option>
      <option value="B">Garagem VIP</option>
    </select>
    <label>Quantidade:</label>
    <input type="number" [(ngModel)]="quantidade" class="form-control" />
    <p *ngIf="mensagem" class="mt-2">{{ mensagem }}</p>
  </div>
  <div class="modal-footer">
    <button class="btn btn-success" (click)="ajustarQuantidade()">Salvar</button>
    <button class="btn btn-secondary" (click)="modal.dismiss()">Cancelar</button>
  </div>
</ng-template>